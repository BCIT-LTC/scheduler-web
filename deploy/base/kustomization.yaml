apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - deployment.yaml
  - ingress.yaml
  - service.yaml
  - serviceaccount.yaml

# Facilitate kustomization name updating
#
configurations:
  - kustomizeconfig.yaml

commonLabels:
  app: scheduler-web
  app.kubernetes.io/name: scheduler-web

configMapGenerator:
  # Specify API backend location
  - name: api-config
    literals:
      - API_URL=https://scheduler-api.ltc.bcit.ca/api/

  # Generates elasticapm config
  - name: elasticapm-config
    literals:
      - ELASTIC_APM_SERVER_URL=https://bcit-ltc.apm.westus2.azure.elastic-cloud.com

  # Specify Keycloak SAML location
  - name: saml-config
    literals:
      - SAML_URL=https://keycloak.ltc.bcit.ca/realms/ltc/protocol/saml
