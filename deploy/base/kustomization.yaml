apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namePrefix: scheduler-web-

resources:
  - deployment.yaml
  - ingress.yaml
  - serviceaccount.yaml
  - service.yaml
  
# commonLabels:
#   app: scheduler-web
#   app.kubernetes.io/name: scheduler-web

secretGenerator:
  - name: local-user-credentials
    literals:
      - LOCAL_USER=admin
      - LOCAL_PASSWORD=password123

  - name: auth-signing-key
    literals:
      - JWT_TOKEN_SIGNING_KEY=ahuaejsdb

configMapGenerator:
# Generates elasticapm config
#
  - name: elasticapm-config
    literals:
      - ELASTIC_APM_SERVER_URL=https://bcit-ltc.apm.westus2.azure.elastic-cloud.com

# Specify API backend location
#
  - name: api-config
    literals:
      - API_URL=https://scheduler-api.ltc.bcit.ca/api/

# Specify Keycloak SAML location
#
  - name: saml-config
    literals:
      - SAML_URL=https://keycloak.ltc.bcit.ca/realms/ltc/protocol/saml
